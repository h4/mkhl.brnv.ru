---
id: 642
title: Объясняем макоси, где тут у нас git
date: 2014-06-01T16:31:02+03:00
author: h4
layout: revision
guid: http://mkhl.brnv.ru/632-revision-v1/
permalink: /632-revision-v1/
---
На волне ожидания выхода Git 2.0 решил проверить, а какая же у меня версия гита сейчас?

<pre>$ <strong>git --version</strong>
git version 1.8.5.2 (Apple Git-48)</pre>

Это, конечно, непорядок, и нужно было срочно обновиться до последней, 1.9.2. Казалось бы, всё просто — качаем образ с [официального сайта](http://git-scm.com), распаковываем и запускаем инсталятор. Однако, после того как всё завершилось с успехом, версия гита по-прежнему оставалась 1.8.5.2. В ходе небольшого исследования (командой where, чтением README и т.п.), понял, что терминал просто не знает, где лежит правильный бинарник.

Если кратко, _git_ изначально был поставлен либо с системой, либо при установке консольных утилит xCode в каталог `/usr/bin` (**UPD:** проверил, гита в чистой системе нет, ставится с _developer tools_). А инсталятор  поставил новый-кленовый бинарник в `/usr/local/git/bin`, при этом в переменную `$PATH` этот каталог не попал.

Добавляем в `~/.zshrc` или `~/.bashrc` строчку

<pre>export PATH=/usr/local/git/bin:$PATH</pre>

Перечитываем настройки профиля (`$ <strong>source ~/.zshrc</strong>`)  и проверяем

<pre>$ <strong>git --version</strong>
git version 1.9.2</pre>

## Зачем столько мучений? {#homebrew}

Каждый раз, когда я пишу об установке какого-то софта на маке, кто-нибудь обязательно напомнит про [homebrew](http://brew.sh/). Чтобы не быть голословным, я решил проверить, а может и правда, поставить гит оттуда?

Для чистоты эксперимента поставил свежий OS X Maverics в VirtualBox (тут были отдельные танцы с бубном по конвертации iso-образа). На чистую ось поставил _homebrew_, так, как описано в мануале. В процессе установки неожиданно потребовали поставить xCode Developer Tools, а с ним, та-да-да-дам, приехал git и прописался в /usr/bin. Ну что, ставим git из homebrew:

<pre>$ <strong>brew install git</strong>
...
/usr/local/Cellar/git/2.0.0: 1324 files, 31M</pre>

Вау, поставился самый-самы свежий гит! Ну-ка проверим, доступен ли он нам?

<pre>$ <strong>git --version</strong>
git version 1.8.5.2 (Apple Git-48)</pre>

Да как же так? Почему опять ничего не работает? Может вообще удалить этот старый бинарник из `/usr/bin`? Такие вопросы проносятся в моей голове. Но нет, мы не будет принимать импульсивные решения, а пойдём рекомендуемым путём:

<pre>$ <strong>brew doctor</strong>
Warning: /usr/bin occurs before /usr/local/bin
...
Setting your PATH so that /usr/local/bin occurs before /usr/bin.</pre>

В общем, предлагают пойти известным путём — изменить переменную `$PATH`. В принципе, если у вас уже давно стоит _homebrew_, то велика вероятность, что переменная `$PATH` уже имеет нужное значение.