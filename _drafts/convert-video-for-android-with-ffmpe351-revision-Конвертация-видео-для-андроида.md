---
id: 352
title: Конвертация видео для андроида
date: 2012-10-16T00:53:40+03:00
author: h4
layout: revision
guid: http://mkhl.brnv.ru/351-revision/
permalink: /351-revision/
---
Возникла необходимость сконвертировать много *.wmv роликов в формат, воспринимаемый андроидом. С двумя ограничениями — сконвертировать нужно в терминале, а имена фалов — с пробелами. Родил вот такие строчки:

    $ export IFS=$'\n' # игнорируем пробелы
    $ for i in `find . -iname '*.wmv'`; 
        do ffmpeg -i $i -acodec aac -strict -2 -s 480x360 \
        -aspect 4:3 -vcodec libx264 -ac 2 -r 15 -ab 44100 $i.mp4; 
      done
    

Конвертируется при помощи бинарника от [ffmpegmac.net](http://ffmpegmac.net/). В Linux скорее всего кодек будет называться `libfaac`.

Самая большая печалька — картинку видно на мобилке только при программном декодировании. При аппаратном — чёрный экран со звуком.