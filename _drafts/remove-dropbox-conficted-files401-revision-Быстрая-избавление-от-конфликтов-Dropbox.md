---
id: 402
title: Быстрая избавление от конфликтов Dropbox
date: 2013-01-26T20:16:35+03:00
author: h4
layout: revision
guid: http://mkhl.brnv.ru/401-revision/
permalink: /401-revision/
---
Хорошая штука Dropbox, но иногда у него сносит крышу (особенно часто такое случается после переустановки ОС), и порождаются конфликты – файлы получают имя вида _base (Solo&#8217;s conflicted copy 2012-12-29).css&#187;_ (вместо Solo будет имя вашего компьютера).

Чаще всего это никак не мешает работе, файлы удаляются по мере их обнаружения. Однако, если вы используете Git и храните файлы проекта в Дропбоксе, то в какой-то момент вдруг не сможете переключиться на другую ветку или сделать pull/push. Вместо того, чтобы молча выполненить команду, git выплюнет что-то вроде:

    $ git branch
    fatal: Reference has invalid format: 'refs/remotes/origin/gh-pages (Solo's conflicted copy 2012-12-29 (1))'
    

Поскольку git хранит всё своё добро в простых текстовых файлах внутри каталога .git, то нужно пройтись по всем файлам проекта и удалить поломавшиеся файлы. Чтобы не искать все эти файлы вручную — выполним в терминале такую команду:

    $ find . -name "*conflicted copy*" -ok rm "{}" ";"
    

Ключ `-ok` будет требовать подтверждения для каждого файла, если вы бесстрашный ковбой — можно его не писать.

PS. Вообще, не советую на маке ходить в каталог `.git` при помощи _Finder_ — он любит оставить где не нужно файлы .DS_Store, и будет у вас непонятная фейковая ветка.