---
id: 755
title: 'Удалить всё, что не *.mp3'
date: 2018-04-29T18:10:49+03:00
author: h4
layout: revision
guid: http://mkhl.brnv.ru/754-revision-v1/
permalink: /754-revision-v1/
---
Возникла необходимость удалить из каталога все файлы, за исключением mp3. В каталоге 60 подкаталогов, в каждом подкаталоге 10-20 разных файлов. Руками такое делать бесконечно утомительно. Но можно открыть консоль и набрать там такое:

<pre>find /media/sdcard -type f -not -regex ".*.mp3" -exec rm {} \;</pre>

эта команда отыщет все файлы в каталоге `/media/sdcard` и его подкаталогах, которые подходят под два условия:

  * `- type f` — простой файл (исключаем каталоги)
  * `- not -regex ".*.mp3"` — имеют любое расширение, кроме .mp3

А дальше команда все эти файлы передаются в команду `rm` и благополучно удаляются.